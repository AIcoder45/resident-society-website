# Greenwood City Website - Production Environment Variables
# Copy this file to .env.production in the root directory and update with your actual values
# DO NOT commit .env.production to Git (it's in .gitignore)

# ============================================
# Application Configuration
# ============================================
NODE_ENV=production
PORT=3000

# ============================================
# Strapi CMS Configuration
# ============================================
# Strapi CMS URL - Required for content management
# IMPORTANT: Do NOT include /admin or /api in the URL
# The code automatically appends /api/ when making requests
# ✅ Correct: STRAPI_URL=https://admin.greenwoodscity.in
# ❌ Wrong:   STRAPI_URL=https://admin.greenwoodscity.in/admin
STRAPI_URL=https://admin.greenwoodscity.in

# Strapi API Token - Required for authenticated API requests (webhooks, etc.)
# Get this from Strapi Admin → Settings → API Tokens
STRAPI_API_TOKEN=d3b1c47723bbfc0bfdf5c5b61e77af81d53a2c7b8619d3614b6f0c1cabc25b487aaf7ce0a07d0a0e0e7eac7ae7792fd4f23235df124728c64a50d433e96eb7426b369c611a6c9ff5d25c39d837b6e1466b8f2705153e495d230151b7f2e975f514eb4abae8d7b44a8096edbdaad6f0d258d5f5028b23cb6b998f3e256e6520d2

# ============================================
# Push Notifications - VAPID Keys (Optional)
# ============================================
# NOTE: VAPID keys are OPTIONAL. The app will build and run without them.
# Push notifications will be disabled if keys are not set.
# Generate these using: web-push generate-vapid-keys
# 
# To generate VAPID keys, run:
# npm install -g web-push
# web-push generate-vapid-keys
#
# VAPID_PUBLIC_KEY=your-vapid-public-key-here
# VAPID_PRIVATE_KEY=your-vapid-private-key-here
# VAPID_EMAIL=mailto:notifications@greenwoodscity.in
# NEXT_PUBLIC_VAPID_PUBLIC_KEY=your-vapid-public-key-here

# ============================================
# Next.js Configuration
# ============================================
# Next.js will automatically use these settings
# No additional configuration needed unless you have custom requirements

# ============================================
# Next.js Server Actions Security (optional mitigation)
# ============================================
# Next.js generates a new private key for Server Actions on every build.
# This can cause "Failed to find Server Action" / "reading 'digest'" errors
# for users who keep the app open across deployments (long-lived sessions, PWA).
#
# To make Server Action IDs more stable across builds on self-hosted deployments,
# you can set a persistent encryption key:
# NEXT_SERVER_ACTIONS_ENCRYPTION_KEY=your-32-character-random-secret
#
# Notes:
# - Keep this value secret and do NOT commit a real key to Git.
# - After setting it in .env.production, run a clean rebuild and restart PM2:
#     npm run build
#     pm2 restart greenwood-city --update-env

# ============================================
# Analytics (Google Analytics 4)
# ============================================
# Optional: Google Analytics 4 Measurement ID
# Example format: G-XXXXXXXXXX
# If this is not set, analytics will be disabled but the app will still run normally.
NEXT_PUBLIC_GA_MEASUREMENT_ID=G-W7VVWVS07S

# ============================================
# Notes
# ============================================
# - This file should be placed in the root directory of the Next.js app as .env.production
# - PM2 will automatically load this file when NODE_ENV=production
# - To verify environment variables are loaded:
#   pm2 env 0 | grep STRAPI_URL
# - To reload environment variables:
#   pm2 restart greenwood-city --update-env
# - To create the actual .env.production file:
#   cp deploy/env.production.template .env.production

